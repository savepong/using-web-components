import{r as o,h as r,c as t,g as i,H as e}from"./p-7d7a3428.js";const n=class{constructor(r){o(this,r)}render(){return r("div",{class:"lds-facebook"},r("div",null),r("div",null),r("div",null))}};n.style=".lds-facebook{display:inline-block;position:relative;width:80px;height:80px}.lds-facebook div{display:inline-block;position:absolute;left:8px;width:16px;background:#750175;animation:lds-facebook 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite}.lds-facebook div:nth-child(1){left:8px;animation-delay:-0.24s}.lds-facebook div:nth-child(2){left:32px;animation-delay:-0.12s}.lds-facebook div:nth-child(3){left:56px;animation-delay:0}@keyframes lds-facebook{0%{top:8px;height:64px}50%,100%{top:24px;height:32px}}";const s=class{constructor(r){o(this,r),this.wcSymbolSelected=t(this,"wcSymbolSelected",7),this.searchResults=[],this.loading=!1}onFindStocks(o){o.preventDefault();const r=this.stockNameInput.value;this.loading=!0,fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${r}&apikey=H5CXZZLKHTCMCD79`).then((o=>o.json())).then((o=>{this.searchResults=o.bestMatches.map((o=>({name:o["2. name"],symbol:o["1. symbol"]}))),this.loading=!1})).catch((()=>{this.loading=!1}))}onSelectSymbol(o){this.wcSymbolSelected.emit(o)}render(){let o=r("ul",null,this.searchResults.map((o=>r("li",{onClick:this.onSelectSymbol.bind(this,o.symbol)},r("strong",null,o.symbol)," - ",o.name))));return this.loading&&(o=r("wc-spinner",null)),[r("form",{onSubmit:this.onFindStocks.bind(this)},r("input",{id:"stock-symbol",ref:o=>this.stockNameInput=o}),r("button",{type:"submit"},"Find")),o]}};s.style=":host{font-family:sans-serif;border:2px solid var(--color-primary, black);margin:2rem;padding:1rem;display:block;width:20rem;max-width:100vh}form input{font:inherit;color:var(--color-primary, black);padding:0.15rem 0.25rem;display:block;margin-bottom:0.5rem}form input:focus,form button:focus{outline:none}form button{font:inherit;padding:0.25rem 0.5rem;border:1px solid var(--color-primary, black);background:var(--color-primary, black);color:var(--color-primary-inverse, white);cursor:pointer}form button:hover,form button:active{background:var(--color-primary-highlight, gray);border-color:var(--color-primary-highlight, gray)}form button:disabled{background:#ccc;border-color:#ccc;color:white;cursor:not-allowed}ul{margin:0;padding:0;list-style:none}li{margin:0.25rem 0;padding:0.25rem;border:1px solid #ccc;cursor:pointer}li:hover,li:active{background:var(--color-primary, black);color:var(--color-primary-inverse, white)}";const l=class{constructor(r){o(this,r),this.stockInputValid=!1,this.loading=!1}stockSymbolChanged(o,r){o!==r&&(this.stockUserInput=o,this.stockInputValid=!0,this.fetchStockPrice(o))}onUserInput(o){this.stockUserInput=o.target.value,this.stockInputValid=""!==this.stockUserInput.trim()}onFetchStockPrice(o){o.preventDefault(),this.stockSymbol=this.stockInput.value}componentWillLoad(){console.log("componentWillLoad")}componentDidLoad(){console.log("componentDidLoad"),this.stockSymbol&&(this.stockUserInput=this.stockSymbol,this.stockInputValid=!0,this.fetchStockPrice(this.stockSymbol))}componentWillUpdate(){console.log("componentWillUpdate")}componentDidUpdate(){console.log("componentDidUpdate")}disconnectedCallback(){console.log("disconnectedCallback")}onStockSymbolSelected(o){console.log("stock symbol selected",o.detail),o.detail&&o.detail!==this.stockSymbol&&(this.stockSymbol=o.detail)}fetchStockPrice(o){this.loading=!0,fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${o}&apikey=H5CXZZLKHTCMCD79`).then((o=>{if(200!==o.status)throw new Error("Invalid!");return o.json()})).then((o=>{if(!o["Global Quote"]["05. price"])throw new Error("Invalid symbol!");this.error=null,this.fetchedPrice=+o["Global Quote"]["05. price"],this.loading=!1})).catch((o=>{this.error=o.message,this.fetchedPrice=null,this.loading=!1}))}hostData(){return{class:this.error?"hydrated error":""}}__stencil_render(){let o=r("p",null,"Please enter a symbol!");return this.error&&(o=r("p",null,this.error)),this.fetchedPrice&&(o=r("p",null,"Price: $",this.fetchedPrice)),this.loading&&(o=r("wc-spinner",null)),[r("form",{onSubmit:this.onFetchStockPrice.bind(this)},r("input",{id:"stock-symbol",ref:o=>this.stockInput=o,value:this.stockUserInput,onInput:this.onUserInput.bind(this),autofocus:!0}),r("button",{type:"submit",disabled:!this.stockInputValid||this.loading},"Fetch")),r("div",null,o)]}get el(){return i(this)}static get watchers(){return{stockSymbol:["stockSymbolChanged"]}}render(){return r(e,this.hostData(),this.__stencil_render())}};l.style=":host{font-family:sans-serif;border:2px solid var(--color-primary, black);margin:2rem;padding:1rem;display:block;width:20rem;max-width:100vh}:host(.error){border-color:#e79804}form input{font:inherit;color:var(--color-primary, black);padding:0.15rem 0.25rem;display:block;margin-bottom:0.5rem;text-transform:uppercase}form input:focus,form button:focus{outline:none}form button{font:inherit;padding:0.25rem 0.5rem;border:1px solid var(--color-primary, black);background:var(--color-primary, black);color:var(--color-primary-inverse, white);cursor:pointer}form button:hover,form button:active{background:var(--color-primary-highlight, gray);border-color:var(--color-primary-highlight, gray)}form button:disabled{background:#ccc;border-color:#ccc;color:var(--color-primary-inverse, white);cursor:not-allowed}";export{n as wc_spinner,s as wc_stock_finder,l as wc_stock_price}